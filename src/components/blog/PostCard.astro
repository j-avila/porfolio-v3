---
import { Image } from "astro:assets"
import Thumb from "@assets/images/thumb.png"
interface Props {
  link?: string
  color?: string
  cols?: string
  rows?: string
  square?: boolean
  custom?: string
  target?: string
  background?: string
}

const bgMok = Thumb.src

const {
  link,
  color,
  cols,
  rows,
  square = true,
  custom,
  target,
  background = bgMok,
} = Astro.props
---

<main
  class:list={[
    "relative flex flex-col items-center justify-center rounded-xl xs:h-auto relative overflow-clip p-2 md:p-4 shadow-md hover:shadow-xl transition-all bg-cover backdrop-blur-sm",
    color || "bg-white",
    rows,
    cols || "col-span-1",
    square && "square xs:square",
    custom,
  ]}
  style=`background-image:
  url(${background})`
>
  <a href="/posts/post-1" class="block w-full h-full">
    <div class="meta flex flex-col gap-2 absolute left-2 top-2 z-10 text-xs">
      <span class="date bg-white py-2 px-2 rounded-2xl italic w-fit shadow-md"
        >12/12/12</span
      >
      <span
        class="tags border-2 border-text text-text py-2 px-2 bg-transparent rounded-2xl shadow-md shadow-text w-fit hidden md:block"
        >tags, tags, tags</span
      >
    </div>
    <h1
      class:list={[
        "absolute z-10 bg-white p-2 rounded-lg shadow-md max-w-[70%] md:max-w-[50%] truncate",
        square ? "bottom-0 right-0" : "top-0 right-0",
        square ? "text-sm" : "text-2xl",
      ]}
    >
      example with a long title and added more text to see if overlap omg
    </h1>
  </a>
</main>
